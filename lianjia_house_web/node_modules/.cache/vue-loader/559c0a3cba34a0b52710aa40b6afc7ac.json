{"remainingRequest":"E:\\projects\\lianjia_house_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\projects\\lianjia_house_web\\src\\views\\chart\\index.vue?vue&type=style&index=0&id=8c5ca292&scoped=true&lang=css&","dependencies":[{"path":"E:\\projects\\lianjia_house_web\\src\\views\\chart\\index.vue","mtime":1652712606249},{"path":"E:\\projects\\lianjia_house_web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\lianjia_house_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\projects\\lianjia_house_web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\projects\\lianjia_house_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\lianjia_house_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KKiB7DQogIG1hcmdpbjogMDsNCiAgcGFkZGluZzogMDsNCiAgbGlzdC1zdHlsZTogbm9uZTsNCn0NCg0KLmVsLXJvdyB7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQp9DQoNCi5lbC1jb2wgew0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoNCi5iZy1wdXJwbGUtZGFyayB7DQogIGJhY2tncm91bmQ6ICM5OWE5YmY7DQp9DQoNCi5iZy1wdXJwbGUgew0KICBiYWNrZ3JvdW5kOiAjZDNkY2U2Ow0KfQ0KDQouYmctcHVycGxlLWxpZ2h0IHsNCiAgYmFja2dyb3VuZDogI2U1ZTlmMjsNCn0NCg0KLmdyaWQtY29udGVudCB7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgbWluLWhlaWdodDogMzZweDsNCn0NCg0KLnJvdy1iZyB7DQogIHBhZGRpbmc6IDEwcHggMDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYzsNCn0NCg0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAydA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/chart","sourcesContent":["<template>\r\n  <!--为echarts准备一个具备大小的容器dom-->\r\n  <div style=\"margin: 10px\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"box-card\" shadow=\"hover\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>房子总数(套)</span>\r\n          </div>\r\n          <div class=\"text item\">\r\n            {{ totalHouses }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"box-card\" shadow=\"hover\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>精装数量(套)</span>\r\n          </div>\r\n          <div class=\"text item\">\r\n            {{ totalJingZhuangHouses }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"box-card\" shadow=\"hover\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>清水数量(套)</span>\r\n          </div>\r\n          <div class=\"text item\">\r\n            {{ totalMaoPeiHouses }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"box-card\" shadow=\"hover\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>交易总额(万)</span>\r\n          </div>\r\n          <div class=\"text item\">\r\n            {{ totalPrice }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"12\">\r\n        <div id=\"main1\" style=\"height: 400px;\" class=\"grid-content bg-purple\"/>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <div id=\"main2\" style=\"height: 400px;\" class=\"grid-content bg-purple\"/>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"12\">\r\n        <div id=\"main3\" style=\"height: 400px;\" class=\"grid-content bg-purple\"/>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <div id=\"main4\" style=\"height: 400px;\" class=\"grid-content bg-purple\"/>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"24\">\r\n        <div id=\"main6\" style=\"height: 400px;\" class=\"grid-content bg-purple\"/>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\n// eslint-disable-next-line no-unused-vars\r\nimport {\r\n  getGeneralData,\r\n  getDecorateData,\r\n  getPriceData,\r\n  getAreaData,\r\n  getSizePriceData,\r\n  getCommunityData\r\n} from '@/api/house'\r\n\r\nexport default {\r\n  name: '',\r\n  data() {\r\n    return {\r\n      charts: '',\r\n      totalHouses: 0,\r\n      totalPrice: 0,\r\n      totalJingZhuangHouses: 0,\r\n      totalMaoPeiHouses: 0,\r\n      registrationAreas: [],\r\n      registrationAreasHouses: [],\r\n      decorate: [],\r\n      decorateHouses: [],\r\n      priceAreaHouses: [],\r\n      community: [],\r\n      communityHouses: [],\r\n      ageHouses: [],\r\n      cityHouses: [],\r\n      cityCarAge: [],\r\n      cityCarMileage: [],\r\n      cityCarPrice: [],\r\n      sizePrice: [],\r\n      agePrice: [],\r\n      vendors2: [],\r\n      vendorAveragePriceHouses: []\r\n    }\r\n  },\r\n  // 调用\r\n  mounted() {\r\n    this.$nextTick(function () {\r\n      // this.drawPie('main1')\r\n      this.loadGeneralData()\r\n      this.loadRegistrationAreaData()\r\n      this.loadPriceData()\r\n      this.loadCommunityData()\r\n      this.loadDecorateData()\r\n      this.loadSizePriceData()\r\n    })\r\n  },\r\n  methods: {\r\n    async loadGeneralData() {\r\n      const response = await getGeneralData()\r\n      const data = response.data\r\n      this.totalHouses = data.total\r\n      this.totalJingZhuangHouses = data.jingzhuang\r\n      this.totalMaoPeiHouses = data.maopei\r\n      this.totalPrice = data.total_price.price__sum\r\n    },\r\n    async loadRegistrationAreaData() {\r\n      const response = await getAreaData()\r\n      const data = response.data\r\n      for (const d of data) {\r\n        this.registrationAreas.push(d.area)\r\n        this.registrationAreasHouses.push(d.count)\r\n      }\r\n      this.drawRegistrationAreaStatistics('main1')\r\n    },\r\n    async loadPriceData() {\r\n      const response = await getPriceData()\r\n      const data = response.data\r\n      this.priceAreaHouses = data\r\n      this.drawPriceStatistics('main2')\r\n    },\r\n    async loadCommunityData() {\r\n      const response = await getCommunityData()\r\n      const data = response.data\r\n      for (const d of data) {\r\n        this.community.push(d.community)\r\n        this.communityHouses.push(d.count)\r\n      }\r\n      this.drawCommunityStatistics('main3')\r\n    },\r\n    async loadDecorateData() {\r\n      const response = await getDecorateData()\r\n      const data = response.data\r\n      for (const d of data) {\r\n        this.decorate.push(d.decorate)\r\n        this.decorateHouses.push(d.count)\r\n      }\r\n      this.drawDecorateStatistics('main4')\r\n    },\r\n    async loadSizePriceData() {\r\n      const response = await getSizePriceData()\r\n      const data = response.data\r\n      this.sizePrice = data\r\n      this.drawMileagePriceStatistics('main6')\r\n    },\r\n    drawCommunityStatistics(id) {\r\n      this.charts = this.$echarts.init(document.getElementById(id))\r\n      this.charts.setOption(\r\n        {\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'shadow'\r\n            }\r\n          },\r\n          title: {\r\n            text: '各小区二手房分布',\r\n            subtext: '--',\r\n            left: 'center'\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '4%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          xAxis: [\r\n            {\r\n              type: 'category',\r\n              data: this.community,\r\n              axisTick: {\r\n                alignWithLabel: true\r\n              }\r\n            }\r\n          ],\r\n          yAxis: [\r\n            {\r\n              type: 'value'\r\n            }\r\n          ],\r\n          series: [\r\n            {\r\n              name: '二手房数量',\r\n              type: 'bar',\r\n              barWidth: '60%',\r\n              data: this.communityHouses,\r\n              itemStyle: {\r\n                normal: {\r\n                  color: '#10cee0'\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      )\r\n    },\r\n    drawRegistrationAreaStatistics(id) {\r\n      this.charts = this.$echarts.init(document.getElementById(id))\r\n      this.charts.setOption(\r\n        {\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'shadow'\r\n            }\r\n          },\r\n          title: {\r\n            text: '各区二手房分布',\r\n            subtext: '--',\r\n            left: 'center'\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '4%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          xAxis: [\r\n            {\r\n              type: 'category',\r\n              data: this.registrationAreas,\r\n              axisTick: {\r\n                alignWithLabel: true\r\n              }\r\n            }\r\n          ],\r\n          yAxis: [\r\n            {\r\n              type: 'value'\r\n            }\r\n          ],\r\n          series: [\r\n            {\r\n              name: '二手房数量',\r\n              type: 'bar',\r\n              barWidth: '60%',\r\n              data: this.registrationAreasHouses,\r\n              itemStyle: {\r\n                normal: {\r\n                  color: '#3991dc'\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      )\r\n    },\r\n    drawPriceStatistics(id) {\r\n      this.charts = this.$echarts.init(document.getElementById(id))\r\n      this.charts.setOption(\r\n        {\r\n          title: {\r\n            text: '价格区间占比',\r\n            subtext: '--',\r\n            left: 'center'\r\n          },\r\n          tooltip: {\r\n            trigger: 'item'\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: 'left'\r\n          },\r\n          series: [\r\n            {\r\n              name: '二手房数量',\r\n              type: 'pie',\r\n              radius: '50%',\r\n              data: this.priceAreaHouses,\r\n              emphasis: {\r\n                itemStyle: {\r\n                  shadowBlur: 10,\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      )\r\n    },\r\n    drawDecorateStatistics(id) {\r\n      this.charts = this.$echarts.init(document.getElementById(id))\r\n      this.charts.setOption(\r\n        {\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'shadow'\r\n            }\r\n          },\r\n          title: {\r\n            text: '装修情况统计',\r\n            subtext: '--',\r\n            left: 'center'\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '4%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          xAxis: [\r\n            {\r\n              type: 'category',\r\n              data: this.decorate,\r\n              axisTick: {\r\n                alignWithLabel: true\r\n              }\r\n            }\r\n          ],\r\n          yAxis: [\r\n            {\r\n              type: 'value'\r\n            }\r\n          ],\r\n          series: [\r\n            {\r\n              name: '二手房数量',\r\n              type: 'bar',\r\n              barWidth: '60%',\r\n              data: this.decorateHouses,\r\n              itemStyle: {\r\n                normal: {\r\n                  color: '#3991dc'\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      )\r\n    },\r\n    drawMileagePriceStatistics(id) {\r\n      this.charts = this.$echarts.init(document.getElementById(id))\r\n      this.charts.setOption(\r\n        {\r\n          title: {\r\n            text: '二手房大小及价格分布',\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '7%',\r\n            bottom: '7%',\r\n            containLabel: true\r\n          },\r\n          tooltip: {\r\n            // trigger: 'axis',\r\n            showDelay: 0,\r\n            formatter: function(params) {\r\n              if (params.value.length > 1) {\r\n                return params.seriesName + ' :<br/>' + params.value[0] + '平方米 ' + params.value[1] + '万元 '\r\n              } else {\r\n                return params.seriesName + ' :<br/>' + params.name + ' : ' + params.value + '平方米 '\r\n              }\r\n            },\r\n            axisPointer: {\r\n              show: true,\r\n              type: 'cross',\r\n              lineStyle: {\r\n                type: 'dashed',\r\n                width: 1\r\n              }\r\n            }\r\n          },\r\n          toolbox: {\r\n            feature: {\r\n              dataZoom: {},\r\n              brush: {\r\n                type: ['rect', 'polygon', 'clear']\r\n              }\r\n            }\r\n          },\r\n          brush: {\r\n          },\r\n          legend: {\r\n            data: ['房子大小', '价格'],\r\n            left: 'center',\r\n            bottom: 10\r\n          },\r\n          xAxis: [\r\n            {\r\n              type: 'value',\r\n              scale: true,\r\n              axisLabel: {\r\n                formatter: '{value} 万'\r\n              },\r\n              splitLine: {\r\n                show: false\r\n              }\r\n            }\r\n          ],\r\n          yAxis: [\r\n            {\r\n              type: 'value',\r\n              scale: true,\r\n              axisLabel: {\r\n                formatter: '{value} 平方米'\r\n              },\r\n              splitLine: {\r\n                show: false\r\n              }\r\n            }\r\n          ],\r\n          series: [\r\n            {\r\n              name: '大小-价格',\r\n              type: 'scatter',\r\n              emphasis: {\r\n                focus: 'series'\r\n              },\r\n              data: this.sizePrice,\r\n              markArea: {\r\n                silent: true,\r\n                itemStyle: {\r\n                  color: 'transparent',\r\n                  borderWidth: 1,\r\n                  borderType: 'dashed'\r\n                },\r\n                data: [[{\r\n                  name: '大小及价格',\r\n                  xAxis: 'min',\r\n                  yAxis: 'min'\r\n                }, {\r\n                  xAxis: 'max',\r\n                  yAxis: 'max'\r\n                }]]\r\n              },\r\n              markPoint: {\r\n                data: [\r\n                  {type: 'max', name: 'Max'},\r\n                  {type: 'min', name: 'Min'}\r\n                ]\r\n              },\r\n              markLine: {\r\n                lineStyle: {\r\n                  type: 'solid'\r\n                },\r\n                data: [\r\n                  {type: 'average', name: '平均值'},\r\n                  { xAxis: 160 }\r\n                ]\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      )\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n\r\n.bg-purple {\r\n  background: #d3dce6;\r\n}\r\n\r\n.bg-purple-light {\r\n  background: #e5e9f2;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.row-bg {\r\n  padding: 10px 0;\r\n  background-color: #f9fafc;\r\n}\r\n\r\n</style>\r\n"]}]}